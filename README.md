目的是大四毕业成为一名嵌入式软件工程师
<img width="979" height="795" alt="Snipaste_2026-01-13_20-23-48" src="https://github.com/user-attachments/assets/2c5f95ab-7ae1-4388-a098-3b1f90b69573" />
这个图是STM32 F103 系列的系统架构图，核心展示了芯片内部各模块的连接关系与数据传输逻辑，先明确图里的基础标识：
黄色模块：驱动单元（主动发起数据传输的模块）
粉色模块：被动单元（接收数据传输的模块）
一、核心模块与连接逻辑
1. 驱动单元（黄色）
是主动发起数据传输的 “发起者”，包含 3 个核心部分：
Cortex-M3 内核：通过 3 组总线（ICode、DCode、System）与总线矩阵通信，负责执行代码、处理数据。
DMA1：含 7 个通道，负责低 / 中速外设的数据搬运。
DMA2：含 5 个通道（仅大容量 STM32F103 有），负责高速外设的数据搬运。
2. 被动单元（粉色）
是接收数据传输的 “响应者”，包含：
Flash：存储程序代码 / 只读数据；
SRAM：存储运行时的变量 / 临时数据；
FSMC/SDIO：外部存储（如外接 SRAM、SD 卡）的接口；
各类外设：挂在 APB1/APB2 总线上的模块（如 USART 串口、TIM 定时器、ADC 模数转换等）。
3. 总线架构（数据传输的 “通路”）
总线矩阵：是核心 “交通枢纽”，负责调度驱动单元到被动单元的所有数据传输（避免总线冲突）。
AHB 系统总线：高速总线，连接总线矩阵、FSMC、SDIO、RCC（复位和时钟控制）。
APB1/APB2 总线：低速外设总线（APB2 速度比 APB1 快），通过 “桥接 1/2” 与 AHB 总线连接，挂接各类外设。
4. DMA 的工作逻辑（图中 “DMA 请求” 部分）
外设（如 USART、ADC）需要传输数据时，会向 DMA1/DMA2 发送 “DMA 请求”；
DMA 收到请求后，通过总线矩阵直接搬运数据（比如：外设→SRAM、SRAM→外设、Flash→SRAM），全程不需要 CPU 参与，从而解放 CPU 资源。
